<?xml version="1.0" encoding="utf-8"?>
<Transformation>
  <Source config="delim=','">file://C:\Projects\no-frills-transformation\scratch\users.csv</Source>
  <Target config="delim=','">file://C:\Projects\no-frills-transformation\scratch\Accounts.csv</Target>
  <LookupMaps>
    <LookupMap keyField="id" name="Status">
      <Source config="delim=','">file://C:\Projects\no-frills-transformation\scratch\status_mapping.csv</Source>
    </LookupMap>
  </LookupMaps>

  <FilterMode>AND</FilterMode>
  <SourceFilters>
    <SourceFilter>EqualsIgnoreCase(If(Contains($SOBID, "A"), "hooray", "boo"), "HooRay")</SourceFilter>
  </SourceFilters>

  <Mappings>
    <Mapping>
      <Fields>
        <!-- The target row number -->
        <Field name="RowNo" maxSize="10">TargetRowNum()</Field>
        <!-- The source row number -->
        <Field name="SourceRowNo" maxSize="10">SourceRowNum()</Field>
        <!-- Plain copy of field content -->
        <Field name="SapUserId__c" maxSize="16">LowerCase($SOBID)</Field>
        <!-- Concatenation of two source fields -->
        <Field name="Whatever" maxSize="50">Concat($OTYPE, $OBJID)</Field>
        <!-- status mapping from lookup "Status" (see definition above) -->
        <Field name="Status" maxSize="40">Status($BOGUSTYPE, $salesforce_status)</Field>
      </Fields>
    </Mapping>
  </Mappings>
</Transformation>
